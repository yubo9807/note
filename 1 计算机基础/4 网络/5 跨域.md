## 跨域访问资源

### 哪些东⻄属于资源？

- js⽂件算吗？js⽂件肯定是算资源的，但是js⽂件是允许被跨域请求的。
- css⽂件，jpg,png等。src属性的资源都是可以被跨域请求的。href资源⼤部分都是可以被跨域请求的。

### 哪些资源算跨域请求的资源？

1. 后端接⼝的数据。
2. 其它域的 cookie
3. 其它域的缓存

### 什么是其它的域？怎么样算跨域？

1. ⻚⾯本身：有协议（http/https），域名，端⼝
2. 协议，域名，端⼝这三个中有任意⼀个不⼀样就算跨域。

### 跨域这个⾏为，发⽣在哪⾥？

1. 即使跨域了（协议，域名，端⼝号有不⼀样的），请求也可以发出。
2. 服务器端也是可以接收的。
3. 服务器端也是可以正常处理的。
4. 服务器端也是可以正常返回数据。
5. 浏览器也能接收到这些数据。
6. 接收到之后，发现当前⻚⾯的域和请求的域不同，所以判定为跨域。
7. 我们的代码在这等着结果呢，但是因为浏览器判定跨域了，不会把结果传递给我们的代码。

### 虽然跨域了，但是我们依然需要这个数据，怎么办？

- 后端（别⼈家的）配合我们进⾏跨域。pan.baidu.com ==> zhidao.baidu.com
    1. JSONP（正常的情况，返回的数据都是JSON格式。JSONP是⼀种特殊的格式。）
    2. 后端设置Access-Control-Allow-Origin属性以⽀持跨域。（聊天机器⼈课讲，因为需要nodejs）
- 后端不配合我们进⾏跨域。
    3. iframe（只能显示，不能控制）
    4. 通过后端代理（⾃⼰做后端）
